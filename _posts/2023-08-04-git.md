---
layout: single
title: "[Git 기초]/삽질 일지#1"
categories: TIL
tag: [Git]
toc: true
author_profile: false
sidebar:
  nav: "docs"
---

# Git 기초 개념

## ⚒️ 삽질 일지:

프로그래머스 프리온보딩 도커 수업을 듣고 따라 해보려고 했는 데 코딩 공부 1달차한테는 너무 어려웠다. 일단 강사님의 github에서 리포지토리를 clone해 와야 하는데 계속 오류가 떠서 기본적인 실습조차 진행하기 어려웠다. 깃에 대한 전반적인 공부가 필요하다 판단하여 블로그를 통해 배운 내용을 정리하고자 한다.

나는 노마드 코더의 윈도우에서 WSL 환경을 통해 우분투 설치 과정을 거쳐 별도로 깃 설치하는 법은 다루지 않겠다.

## [삽질 #1]

❓ **Git clone 할시에 public key 오류가 뜨는 데 이를 어떻게 해결해야 하나?**

나 같은 경우 깃허브에 SSH 공개키와 개인키를 만들지 않아서 발생한 오류였다.

### 🖧 SSH란?

Git을 단독으로 사용한다면 SSH가 없어도 무방하나 외부 서버에서 코드를 클론하거나 Push하려면 **SSH 프로토콜**을 사용해야 한다.
SSH는 멀리 떨어져있지만 인터넷이나 네트워크를 통해 연결되어있는 컴퓨터에 안전하게 연결해주는 프로토콜로 안전한 셸이다. 보통 터미널에서 명령어를 입력할 경우엔 내 컴퓨터에 명령어를 입력하는 것이라면 SSH는 내 컴퓨터가 아닌 네트워크로 다른 컴퓨터에 명령어를 전달해주고 그 결과를 받아볼 수 있게 한다.
보통 GPU 서버를 받아서 딥러닝 프로젝트를 할 경우가 많은데 이때 서버에 접속하기 위해서는 SSH를 사용해야 한다.

### ❓ 그래서 SSH 키를 어떻게 만드는 것인가?

일단 SSH 키를 만들기 전에 키가 있는 지 확인하는 작업을 거쳐야 한다.

```python
$ cd ~/.ssh
$ ls
```

위 코드를 터미널에 쓰면,

![ssh_파일.png]({{site.url}}/images/2023-08-04-git.md/ssh파일.png)

위 그림과 같이 id_rsa와 id_rsa.pub 파일쌍이 있는 지 확인해야 한다. 이 파일이 있다면, 이미 키를 생성한적이 있다는 것이다.

만약에 키를 생성해야 한다면,

```python
$ ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

위 코드를 입력해주면 된다. 당연히 -C 옆에 있는 것은 본인의 깃허브 계정이 들어가야 한다.

해당 코딩을 입력하면,

```python
$ ssh-keygen -t ed25519 -C "lainyzine.com@gmail.com"
Generating public/private ed25519 key pair.
Enter file in which to save the key (/Users/lainyzine/.ssh/id_ed25519):
```

위와 같은 코드가 뜨게 된다. 이때 비밀번호를 설정해줘도 되나 나 같은 경우는 계속 엔터를 눌렀다.

그러면 이와 비슷한 내용이 출력된다.

```python
Your identification has been saved in /Users/lainyzine/.ssh/id_ed25519.
Your public key has been saved in /Users/lainyzine/.ssh/id_ed25519.pub.
The key fingerprint is:
SHA256:MRR2EWPjezAxwlrxCgfqjq43CJjtZVl8Heo5YU/912I lainyzine.com@gmail.com
The key's randomart image is:
+--[ED25519 256]--+
|      ..*oXo     |
|     . +o*.=     |
|    ...o+o=o     |
|   .  +o=+o+.    |
|.o  .o +S=. ..  .|
|+ .o+   + ..  E o|
|.o.o.    .   . o |
|..+              |
|.o..             |
+----[SHA256]-----+
```

이렇게 뜨면 SSH 키가 생성된 것이다.

실제로 키가 잘 생성되었는 지 개인키를 출력해보면,

```python
$ cat id_ed25519.pub
```

위 코드는 .ssh/id_ed25519에 저장이 되어 있으므로 그런 것이다. 본인의 결과 값을 확인하고 그에 맞는 위치를 cat 명령어 뒤에 적어주면 된다.

위와 같은 코드를 작성하게 되면,

```python
$ cat id_ed25519.pub
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOg6cFpnLH0iNyBQDGc9OfbxDPovBM9gdlFbT8f0gZP5 your_email@example.com
```

와 비슷한 결과 값이 나온다.

해당 값을 복사하고,

깃허브 페이지로 들어가서 Setting을 누른 후 SSH and GPG keys 메뉴를 클릭한다. New SSH key를 클릭하면,

![ssh.png]({{site.url}}/images/2023-08-04-git.md/ssh.png)

여기서 아무 title이나 짓고, Key 값에 복사한 값을 붙여주면 된다.

## 깃 개념:

### git init, git status, git add, git commit이란?

해당 개념은 [깃\_블로그](https://steady-coding.tistory.com/276) 해당 블로그를 참고하였다.

#### 📑 [git init]

git init을 하기 위해서는 일단 버전 관리를 위한 폴더를 만들어야 한다.

![git_init.png]({{site.url}}/images/2023-08-04-git.md/git_init.png)

해당 코드를 터미널에 입력하였더니, .git이라는 폴더가 생성되었다. git init은 git 저장소를 만드는 명령어이다.

#### 📑 [git status]

다음 명령어를 공부하기 앞서, 리눅스 명령어로 파일을 만드는 방법을 알아야 한다.

파일을 만들고자 하는 파일 경로로 들어간 후,

![vim.png]({{site.url}}/images/2023-08-04-git.md/vim.png)

를 입력하게 되면,

![vim_1.png]({{site.url}}/images/2023-08-04-git.md/vim_1.png)

위와 같이 vim 편집기가 뜨게 된다. **이때 키보드로 i를 눌러 vim 편집기를 입력 모드로 실행한다.**

vim 편집기를 입력 모드로 실행할 시, 글자를 고칠 수 있는 데 Hello, world를 입력해 보겠다.

이때 입력값을 다 쓰고나고 저장한 후, 다시 터미널로 복귀하려고 하려면 **[ESC] 키를 누른 후, :wq를 누르면 해당 내용을 저장하고 터미널로 돌아가게 된다.**

![vim_2.png]({{site.url}}/images/2023-08-04-git.md/vim_2.png)

위와 같이 입력값을 입력하면, 터미널로 test.txt가 저장되고 터미널로 돌아가게 된다.(w는 저장이고, q는 종료이다.)

파일의 내용이 잘 입력되었는 지 확인할 때는 cat 명령어를 사용한다.

![cat.png]({{site.url}}/images/2023-08-04-git.md/cat.png)

test.txt 파일에 넣은 값이 잘 들어간 것을 확인할 수 있다.

자 이제, git status에 대해 알아보자!

git status를 통해 "상태"를 확인 할 수 있다.

![status.png]({{site.url}}/images/2023-08-04-git.md/git_status.png)

위 결과를 보면, Untracked files:라고 뜨고 (use "git add)라고 뜨는 것을 확인할 수 있다. 이는 아직 git에 새롭게 내용을 업로드를 안해서 뜨는 오류이다.

자 그럼 터미널에서 말한대로 git add를 해보자

![status2.png]({{site.url}}/images/2023-08-04-git.md/git_status2.png)

git add를 한 후, git status를 확인해보니, 처음 git status를 확인 했을 때랑 다르게 test.txt 파일이 있는 것을 알 수 있다.

#### 📑 [git commit]

자 지금까지 한 코드로는 gitProject3 폴더 안에 test.txt 파일만 있을 것이다. 우리가 만든 이 test.txt 파일은 아직 버전으로 만들어진 상태가 아니다.

**버전이란 의미 있는 변화를 뜻하며, 작업이 완결된 상태어야 한다.** test.txt 파일을 만들었으면 이를 git add로 git에 연결해 준 뒤, git commit을 통해 어떠한 의미 있는 변화가 생겼는 지 기록하는 과정을 거쳐야 한다.

![commit.png]({{site.url}}/images/2023-08-04-git.md/git_commit.png)

git commit을 하고 vers1.이라고 코멘트를 다니 commit이 정상적으로 잘 된 것을 확인할 수 있다.

### ❓ git commit만 하면 되지 왜 git add가 필요할 까?

**git commit을 하면 git이랑 연동이 되는 데 굳이 git add를 해야 할 필요가 있나?**

만약에 3개의 기능을 만들어야 하는 과제를 받았다고 하자, 이때 매 기능을 완성할 때마다 commit을 하면 되지만 까먹고 commit을 안한채로 3개의 기능을 다 만들었다고 하자. **만약 이 상황에서 git commit을 하게 되면 3개의 기능이 하나의 commit으로 압축된다. 하지만 git add를 사용하게 되면 원하는 기능만 따로 commit을 해줄 수 있다.**
