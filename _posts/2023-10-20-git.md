---
layout: single
title: "[Git에서 Fork와 Pull Request]"
categories: TIL
tag: [Git]
toc: true
author_profile: false
sidebar:
nav: "docs"
---

# Fork와 Pull Request(PR)

## Fork

Phoby라는 깃허브 레포지토리, Eddie라는 깃허브 레포지토리가 있을 때, Phoby가 Eddie 개발자의 프로젝트가 마음에 들어 프로젝트 기여자로 참여하고 싶은 상황이다.

이때 Phoby가 Eddie의 코드를 수정하려고 하면 **Fork**를 사용하여 마치 포크로 찍어서 Eddie의 저장소에 있는 레포지토리를 Phoby의 원격 저장소, 깃허브로 가져올 수 있다.

Phoby가 Fork한 레포지토리를 본인 컴퓨터에서 사용하고 싶다고 하면은 Clone을 하여 로컬 디렉토리로 가져올 수 있다.

**[요약]**

Fork: 레포지토리를 원격저장소에 복사
Clone: 레포지토리를 로컬저장소에 복사

Phoby가 Eddie의 코드를 수정 및 업그레이드하고 본인 원격 저장소에 커밋한 뒤 다시 Eddie의 레포지토리에 반영하고 싶으면 **Pull Request**를 보내게 된다.

만일 Phoby의 수정 사항이 마음에 들고 반영하고자 하면 Eddie는 자신의 메인 브랜치에 merge하여 프로젝트에 기여할 수 있다.

## Pull Request

pull request란 수정한 코드가 있는 나의 branch를 검토 후 병합해주라는 요청을 하는 것이라고 생각하면 된다. Pull Request 같은 경우 push 권한이 없는 오픈 소스 프로젝트에 기여할 때 많이 사용한다.

# 깃헙 Pull Request 실습

## 1. 원본 저장소를 Fork 하기

기여하고자 하는 리포지토리의 우측 상단에 포크 버튼을 눌러 Fork를 한다

## 2. Fork한 저장소 로컬로 Clone하기

작업을 하기 위해 Fork한 저장소 소스를 그대로 로컬 컴퓨터에 복사해 추가한다

```bash
$ cd C: #clone할 로컬 폴더로 이동
$ git clone <레포지터리 URL>
```

## 3. 원본 저장소 Remote 설정

레포지토리를 clone하면 origin이라는 이름으로 remote url이 내 원격 저장소로 기본으로 설정되어 있다.

Fork했던 원본 저장소도 remote로 등록해주는 것이 좋다고 한다.

## 4. Branch 생성

branch는 다른 사람의 코드에 지장을 안주면서 코드를 최신화 시킬 수 있는 방법이다. 버그를 고치는 작업을 한다고 하자 bug-renew라는 branch를 만들어 코드를 고친 후 push를 하면 master 브랜치의 코드는 그대로 유지된 채로 bug-renew 브랜치만 최신 코드가 된다.

따라서 bug-renew 브랜치가 혹시라도 잘못된 코드여도 master에 코드가 남아있기 때문에 이전 코드로 바꾸는 것이 용이하다.

```bash

$ git branch develop

$ git checkout develop
```

## 5. 코드 작업 후 Add/Commit/Push

코드를 수정하거나 기능 추가 작업이 완료되면, 자신의 깃헙 리포지토리에 add, commit, push하여 반영한다.

```bash
$ git add.

$ git commit -m "test입니다. 무시하세요"

$ git push origin develop
```

## 6. Pull Request 생성

깃헙 저장소 상단을 보면 Compare & pull request 버튼이 활성화되어 있는 것을 볼 수 있다. 상단에 버튼을 클릭하고 PR 메세지를 작성하고 Create pull request 버튼을 누르면 풀 리퀘스트를 생성하게 된다.

## 7. Merge Pull Request

Pull Request를 받은 원본 저장소 관리자는 코드 변경 내용을 확인하고 Merge 여부를 결정한다.

## 8. Merge 이후 동기화 및 Branch 삭제

원본 저장소에 Merge가 완료되면 로컬 코드와 원본 저장소의 코드를 동기화한다

```bash
$ git pull father #원본 remote와 동기화

$ git branch -d develop #용무가 끝난 브랜치 삭제

```
